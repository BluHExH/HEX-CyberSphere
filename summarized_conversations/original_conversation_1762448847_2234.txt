{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="HEX-CyberSphere/web_dashboard/charts.js">\n/*\nHEX-CyberSphere Dashboard Charts\nReal-time data visualization using Chart.js\n*/\n\n// Global chart instances\nlet systemChart = null;\nlet cpuChart = null;\nlet memoryChart = null;\n\n// Initialize charts\nfunction initCharts() {\n    // System metrics chart\n    const systemCtx = document.getElementById(\'system-chart\');\n    if (systemCtx) {\n        systemChart = new Chart(systemCtx, {\n            type: \'line\',\n            data: {\n                labels: [],\n                datasets: [\n                    {\n                        label: \'CPU Usage\',\n                        data: [],\n                        borderColor: \'#2563eb\',\n                        backgroundColor: \'rgba(37, 99, 235, 0.1)\',\n                        tension: 0.4,\n                        fill: true\n                    },\n                    {\n                        label: \'Memory Usage\',\n                        data: [],\n                        borderColor: \'#10b981\',\n                        backgroundColor: \'rgba(16, 185, 129, 0.1)\',\n                        tension: 0.4,\n                        fill: true\n                    }\n                ]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        max: 100,\n                        ticks: {\n                            callback: function(value) {\n                                return value + \'%\';\n                            }\n                        }\n                    }\n                },\n                plugins: {\n                    legend: {\n                        position: \'top\',\n                    },\n                    tooltip: {\n                        mode: \'index\',\n                        intersect: false\n                    }\n                }\n            }\n        });\n    }\n\n    // CPU usage chart\n    const cpuCtx = document.getElementById(\'cpu-chart\');\n    if (cpuCtx) {\n        cpuChart = new Chart(cpuCtx, {\n            type: \'doughnut\',\n            data: {\n                labels: [\'Used\', \'Available\'],\n                datasets: [{\n                    data: [0, 100],\n                    backgroundColor: [\n                        \'#2563eb\',\n                        \'#e2e8f0\'\n                    ],\n                    borderWidth: 0\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                cutout: \'70%\',\n                plugins: {\n                    legend: {\n                        position: \'bottom\'\n                    }\n                }\n            }\n        });\n    }\n\n    // Memory usage chart\n    const memoryCtx = document.getElementById(\'memory-chart\');\n    if (memoryCtx) {\n        memoryChart = new Chart(memoryCtx, {\n            type: \'doughnut\',\n            data: {\n                labels: [\'Used\', \'Available\'],\n                datasets: [{\n                    data: [0, 100],\n                    backgroundColor: [\n                        \'#10b981\',\n                        \'#e2e8f0\'\n                    ],\n                    borderWidth: 0\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                cutout: \'70%\',\n                plugins: {\n                    legend: {\n                        position: \'bottom\'\n                    }\n                }\n            }\n        });\n    }\n}\n\n// Update system chart with new data\nfunction updateSystemChart(cpu, memory, timestamp) {\n    if (!systemChart) return;\n\n    // Add new data point\n    systemChart.data.labels.push(timestamp);\n    systemChart.data.datasets[0].data.push(cpu);\n    systemChart.data.datasets[1].data.push(memory);\n\n    // Keep only last 20 data points\n    if (systemChart.data.labels.length > 20) {\n        systemChart.data.labels.shift();\n        systemChart.data.datasets[0].data.shift();\n        systemChart.data.datasets[1].data.shift();\n    }\n\n    // Update chart\n    systemChart.update();\n}\n\n// Update CPU chart\nfunction updateCPUChart(cpu) {\n    if (!cpuChart) return;\n\n    cpuChart.data.datasets[0].data = [cpu, 100 - cpu];\n    cpuChart.update();\n}\n\n// Update memory chart\nfunction updateMemoryChart(memory) {\n    if (!memoryChart) return;\n\n    memoryChart.data.datasets[0].data = [memory, 100 - memory];\n    memoryChart.update();\n}\n\n// Create activity chart\nfunction createActivityChart(data) {\n    const ctx = document.getElementById(\'activity-chart\');\n    if (!ctx) return;\n\n    return new Chart(ctx, {\n        type: \'bar\',\n        data: {\n            labels: data.labels,\n            datasets: [{\n                label: \'Activity Count\',\n                data: data.values,\n                backgroundColor: \'#2563eb\',\n                borderColor: \'#1d4ed8\',\n                borderWidth: 1\n            }]\n        },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            scales: {\n                y: {\n                    beginAtZero: true\n                }\n            }\n        }\n    });\n}\n\n// Create service status chart\nfunction createServiceChart(data) {\n    const ctx = document.getElementById(\'service-chart\');\n    if (!ctx) return;\n\n    return new Chart(ctx, {\n        type: \'pie\',\n        data: {\n            labels: data.labels,\n            datasets: [{\n                data: data.values,\n                backgroundColor: [\n                    \'#10b981\',\n                    \'#ef4444\',\n                    \'#f59e0b\'\n                ]\n            }]\n        },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n                legend: {\n                    position: \'bottom\'\n                }\n            }\n        }\n    });\n}\n\n// Initialize when DOM is loaded\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n    // Initialize charts\n    initCharts();\n\n    // Simulate real-time data updates\n    setInterval(() => {\n        const now = new Date();\n        const timeString = now.toLocaleTimeString();\n        const cpu = Math.floor(Math.random() * 100);\n        const memory = Math.floor(Math.random() * 100);\n\n        updateSystemChart(cpu, memory, timeString);\n        updateCPUChart(cpu);\n        updateMemoryChart(memory);\n    }, 2000);\n});\n\n// Export functions\nif (typeof module !== \'undefined\' && module.exports) {\n    module.exports = {\n        initCharts,\n        updateSystemChart,\n        updateCPUChart,\n        updateMemoryChart,\n        createActivityChart,\n        createServiceChart\n    };\n}\n</create-file>\n</function_calls>'}