{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="HEX-CyberSphere/nginx.conf">\n# HEX-CyberSphere Nginx Configuration\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream python_core {\n        server python-core:5000;\n    }\n\n    upstream java_api {\n        server java-api:8081;\n    }\n\n    upstream node_events {\n        server node-events:3000;\n    }\n\n    upstream go_microservice {\n        server go-microservice:8082;\n    }\n\n    upstream web_dashboard {\n        server web-dashboard:8080;\n    }\n\n    # Log format\n    log_format main \'$remote_addr - $remote_user [$time_local] "$request" \'\n                    \'$status $body_bytes_sent "$http_referer" \'\n                    \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n    access_log /var/log/nginx/access.log main;\n    error_log /var/log/nginx/error.log;\n\n    # Gzip compression\n    gzip on;\n    gzip_vary on;\n    gzip_min_length 1024;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types\n        text/plain\n        text/css\n        text/xml\n        text/javascript\n        application/json\n        application/javascript\n        application/xml+rss\n        application/atom+xml\n        image/svg+xml;\n\n    # Security headers\n    add_header X-Frame-Options "SAMEORIGIN" always;\n    add_header X-XSS-Protection "1; mode=block" always;\n    add_header X-Content-Type-Options "nosniff" always;\n    add_header Referrer-Policy "no-referrer-when-downgrade" always;\n    add_header Content-Security-Policy "default-src \'self\' http: https: data: blob: \'unsafe-inline\'" always;\n\n    # Main server block\n    server {\n        listen 80;\n        server_name localhost;\n\n        # Web Dashboard\n        location / {\n            proxy_pass http://web_dashboard;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Python Core API\n        location /api/python/ {\n            proxy_pass http://python_core/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Java REST API\n        location /api/java/ {\n            proxy_pass http://java_api/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Node.js Events\n        location /api/node/ {\n            proxy_pass http://node_events/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection "upgrade";\n        }\n\n        # Go Microservice\n        location /api/go/ {\n            proxy_pass http://go_microservice/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        # Health check\n        location /health {\n            access_log off;\n            return 200 "HEX-CyberSphere is running\\n";\n            add_header Content-Type text/plain;\n        }\n\n        # Error pages\n        error_page 500 502 503 504 /50x.html;\n        location = /50x.html {\n            root /usr/share/nginx/html;\n        }\n    }\n\n    # SSL server block (if SSL is configured)\n    server {\n        listen 443 ssl http2;\n        server_name localhost;\n\n        # SSL certificate configuration\n        # ssl_certificate /etc/nginx/ssl/certificate.crt;\n        # ssl_certificate_key /etc/nginx/ssl/private.key;\n\n        # SSL security settings\n        ssl_protocols TLSv1.2 TLSv1.3;\n        ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;\n        ssl_prefer_server_ciphers off;\n        ssl_session_cache shared:SSL:10m;\n        ssl_session_timeout 10m;\n\n        # Same locations as HTTP server\n        location / {\n            proxy_pass http://web_dashboard;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        location /api/python/ {\n            proxy_pass http://python_core/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        location /api/java/ {\n            proxy_pass http://java_api/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        location /api/node/ {\n            proxy_pass http://node_events/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            proxy_http_version 1.1;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection "upgrade";\n        }\n\n        location /api/go/ {\n            proxy_pass http://go_microservice/;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        location /health {\n            access_log off;\n            return 200 "HEX-CyberSphere is running\\n";\n            add_header Content-Type text/plain;\n        }\n\n        error_page 500 502 503 504 /50x.html;\n        location = /50x.html {\n            root /usr/share/nginx/html;\n        }\n    }\n}\n</create-file>\n</function_calls>'}